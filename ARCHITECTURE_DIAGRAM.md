# AgentAru Architecture Diagram

## Complete System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER INTERFACES                                 â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Streamlit UI   â”‚  â”‚   CLI (REPL)    â”‚  â”‚  MCP-Enhanced CLI   â”‚  â”‚
â”‚  â”‚   (Web App)     â”‚  â”‚  (main.py)      â”‚  â”‚   (main_mcp.py) ğŸ”¥  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                   â”‚                       â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   AgentAru Core App     â”‚
                    â”‚  (Initialization &      â”‚
                    â”‚   Orchestration)        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                    â”‚                    â”‚
            â–¼                    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Model Manager   â”‚  â”‚ Memory Manager  â”‚  â”‚  MCP Manager ğŸ”¥ â”‚
â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚
â”‚ â€¢ Claude        â”‚  â”‚ â€¢ Mem0          â”‚  â”‚ â€¢ MCP Client    â”‚
â”‚ â€¢ GPT-4         â”‚  â”‚ â€¢ ChromaDB      â”‚  â”‚ â€¢ Tool Manager  â”‚
â”‚ â€¢ Ollama        â”‚  â”‚ â€¢ Decay         â”‚  â”‚ â€¢ Config Mgr    â”‚
â”‚ â€¢ Caching       â”‚  â”‚ â€¢ 3 Types       â”‚  â”‚ â€¢ Servers       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚                    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   LangGraph Orchestrator  â”‚
                â”‚   (State Machine)         â”‚
                â”‚                           â”‚
                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                â”‚  â”‚  Supervisor Node    â”‚  â”‚
                â”‚  â”‚  (Routing Logic)    â”‚  â”‚
                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                â”‚             â”‚             â”‚
                â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                â”‚   â”‚                    â”‚  â”‚
                â”‚   â–¼         â–¼          â–¼  â”‚
                â”‚  â”Œâ”€â”€â”      â”Œâ”€â”€â”      â”Œâ”€â”€â”â”‚
                â”‚  â”‚ğŸ“§â”‚      â”‚ğŸ“…â”‚      â”‚ğŸ’¡â”‚â”‚
                â”‚  â””â”€â”€â”˜      â””â”€â”€â”˜      â””â”€â”€â”˜â”‚
                â”‚   â”‚         â”‚          â”‚  â”‚
                â”‚   â–¼         â–¼          â–¼  â”‚
                â”‚  Email   Calendar    Idea â”‚
                â”‚  Agent    Agent     Agent â”‚
                â”‚                           â”‚
                â”‚            â–¼              â”‚
                â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”          â”‚
                â”‚        â”‚ğŸ”§ MCP â”‚ ğŸ”¥       â”‚
                â”‚        â”‚ Agent â”‚          â”‚
                â”‚        â””â”€â”€â”€â”¬â”€â”€â”€â”˜          â”‚
                â”‚            â”‚              â”‚
                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
                â”‚  â”‚  Memory Update    â”‚    â”‚
                â”‚  â”‚      Node         â”‚    â”‚
                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                 â”‚                 â”‚
            â–¼                 â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Integrations   â”‚  â”‚  MCP Servers ğŸ”¥ â”‚  â”‚    Memory       â”‚
â”‚                 â”‚  â”‚                 â”‚  â”‚    Storage      â”‚
â”‚ â€¢ Gmail API     â”‚  â”‚ â€¢ Filesystem    â”‚  â”‚                 â”‚
â”‚ â€¢ Google Cal    â”‚  â”‚ â€¢ Web Search    â”‚  â”‚ â€¢ Vector DB     â”‚
â”‚ â€¢ OAuth2        â”‚  â”‚ â€¢ GitHub        â”‚  â”‚ â€¢ Mem0 Cloud    â”‚
â”‚                 â”‚  â”‚ â€¢ SQLite        â”‚  â”‚ â€¢ Local Cache   â”‚
â”‚                 â”‚  â”‚ â€¢ Slack         â”‚  â”‚                 â”‚
â”‚                 â”‚  â”‚ â€¢ Google Drive  â”‚  â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

### 1. Request Processing Flow
```
User Input
   â”‚
   â–¼
[Parse & Initialize State]
   â”‚
   â–¼
[Retrieve Relevant Memories]
   â”‚
   â–¼
Supervisor Agent (Routing Decision)
   â”‚
   â”œâ”€â†’ Email Agent â”€â”€â”
   â”œâ”€â†’ Calendar Agentâ”€â”¤
   â”œâ”€â†’ Idea Agent â”€â”€â”€â”€â”¤
   â””â”€â†’ MCP Agent ğŸ”¥ â”€â”€â”˜
        â”‚
        â–¼
   [Execute Task]
        â”‚
        â–¼
   [Update Memory]
        â”‚
        â–¼
   [Return Response]
        â”‚
        â–¼
     User
```

### 2. MCP Tool Execution Flow ğŸ”¥
```
MCP Agent Request
       â”‚
       â–¼
  MCP Manager
       â”‚
       â”œâ”€â†’ [Check Connected Servers]
       â”‚
       â–¼
  Select Server
       â”‚
       â”œâ”€â†’ Filesystem Server
       â”œâ”€â†’ Web Search Server
       â”œâ”€â†’ GitHub Server
       â””â”€â†’ Custom Servers
            â”‚
            â–¼
       [Call Tool]
            â”‚
            â–¼
       [Get Result]
            â”‚
            â–¼
    [Return to Agent]
```

### 3. Memory Flow
```
Conversation Interaction
        â”‚
        â–¼
   Extract Content
        â”‚
        â”œâ”€â†’ Episodic Memory (conversations)
        â”œâ”€â†’ Semantic Memory (facts)
        â””â”€â†’ Procedural Memory (how-to)
             â”‚
             â–¼
        Store in Mem0
             â”‚
             â–¼
        Vector Embedding
             â”‚
             â–¼
        ChromaDB Storage
             â”‚
             â–¼
   [Decay Applied Over Time]
             â”‚
             â–¼
   [Retrieved When Relevant]
```

## Component Interactions

### Model Manager Flow
```
Agent Request
     â”‚
     â–¼
Model Manager
     â”‚
     â”œâ”€â†’ [Check Cache]
     â”‚   â”‚
     â”‚   â”œâ”€â†’ Found â†’ Return Cached Model
     â”‚   â””â”€â†’ Not Found â†“
     â”‚
     â”œâ”€â†’ [Detect Provider]
     â”‚   â”œâ”€â†’ Anthropic
     â”‚   â”œâ”€â†’ OpenAI
     â”‚   â””â”€â†’ Ollama
     â”‚
     â”œâ”€â†’ [Validate API Key]
     â”‚
     â”œâ”€â†’ [Create Model Instance]
     â”‚
     â”œâ”€â†’ [Cache for Reuse]
     â”‚
     â””â”€â†’ [Return to Agent]
```

### MCP Integration Flow ğŸ”¥
```
Application Start
       â”‚
       â–¼
  MCP Manager Init
       â”‚
       â”œâ”€â†’ Load Config (mcp_servers.yaml)
       â”‚
       â”œâ”€â†’ Auto-connect Servers (if enabled)
       â”‚   â”‚
       â”‚   â”œâ”€â†’ Start Server Process
       â”‚   â”œâ”€â†’ Establish stdio Connection
       â”‚   â”œâ”€â†’ Initialize Session
       â”‚   â””â”€â†’ List Tools
       â”‚
       â”œâ”€â†’ Register Tools with Tool Manager
       â”‚   â”‚
       â”‚   â”œâ”€â†’ Create LangChain Wrappers
       â”‚   â”œâ”€â†’ Add to Registry
       â”‚   â””â”€â†’ Make Available to Agents
       â”‚
       â””â”€â†’ Ready for Use
```

## Agent State Machine

```
[ENTRY]
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SUPERVISOR  â”‚
â”‚   (Route)   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”œâ†’â”‚ Email Agent            â”‚â†’â”
       â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
       â”‚                            â”‚
       â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
       â”œâ†’â”‚ Calendar Agent         â”‚â†’â”¤
       â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
       â”‚                            â”‚
       â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
       â”œâ†’â”‚ Idea Agent             â”‚â†’â”¤
       â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
       â”‚                            â”‚
       â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
       â”œâ†’â”‚ MCP Agent ğŸ”¥           â”‚â†’â”¤
       â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
       â”‚                            â”‚
       â””â†’ [Task Complete?] â†â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚        â”‚
              No       Yes
              â”‚        â”‚
              â†‘        â–¼
          [Loop]  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚Memory Updateâ”‚
                  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                      [END]
```

## Technology Stack Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Application Layer                   â”‚
â”‚  â€¢ Streamlit UI                             â”‚
â”‚  â€¢ CLI Interface                            â”‚
â”‚  â€¢ MCP-Enhanced CLI ğŸ”¥                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Orchestration Layer                â”‚
â”‚  â€¢ LangGraph (State Machine)                â”‚
â”‚  â€¢ Agent Routing                            â”‚
â”‚  â€¢ State Management                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Agent Layer                        â”‚
â”‚  â€¢ Supervisor Agent                         â”‚
â”‚  â€¢ Specialized Agents (Email, Cal, Idea)    â”‚
â”‚  â€¢ MCP Agent ğŸ”¥                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Service Layer                      â”‚
â”‚  â€¢ Model Manager (Multi-LLM)                â”‚
â”‚  â€¢ Memory Manager (Mem0)                    â”‚
â”‚  â€¢ MCP Manager ğŸ”¥ (Protocol Client)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Integration Layer                  â”‚
â”‚  â€¢ LangChain (LLM Abstraction)              â”‚
â”‚  â€¢ MCP Protocol ğŸ”¥ (Tool Standard)          â”‚
â”‚  â€¢ Google APIs (Gmail, Calendar)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Storage Layer                      â”‚
â”‚  â€¢ ChromaDB (Vector Store)                  â”‚
â”‚  â€¢ Mem0 (Semantic Memory)                   â”‚
â”‚  â€¢ Local File System                        â”‚
â”‚  â€¢ MCP Servers ğŸ”¥ (External Tools)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key Features Visualization

### Multi-Model Support
```
User Query
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Model Manager     â”‚
â”‚                     â”‚
â”‚  Available Models:  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Claude 3.5    â”‚  â”‚
â”‚  â”‚ Sonnet        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Claude 3.5    â”‚  â”‚
â”‚  â”‚ Haiku         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ GPT-4o        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Llama 3.1     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    Selected Model
```

### MCP Server Ecosystem ğŸ”¥
```
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚   MCP Manager   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           â”‚           â”‚
    â–¼           â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Filesys â”‚  â”‚  Web   â”‚  â”‚ GitHub â”‚
â”‚ tem    â”‚  â”‚ Search â”‚  â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â–¼           â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SQLite â”‚  â”‚ Slack  â”‚  â”‚ Google â”‚
â”‚        â”‚  â”‚        â”‚  â”‚ Drive  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚           â”‚          â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
          Unified Tool API
```

### Memory System
```
    Conversation
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Extract    â”‚
    â”‚  Content    â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚
    â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mem0   â”‚   â”‚ Vector â”‚
â”‚Semanticâ”‚   â”‚Embeddingâ”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
    â”‚             â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ChromaDB   â”‚
    â”‚   Storage   â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Decay     â”‚
    â”‚  Algorithm  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    Relevant Context
```

## Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Production Deploy             â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        Load Balancer             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                  â”‚                     â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚     â”‚                         â”‚        â”‚
â”‚     â–¼                         â–¼        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ App  â”‚                 â”‚ App  â”‚     â”‚
â”‚  â”‚ Inst â”‚                 â”‚ Inst â”‚     â”‚
â”‚  â”‚ 1    â”‚                 â”‚ 2    â”‚     â”‚
â”‚  â””â”€â”€â”¬â”€â”€â”€â”˜                 â””â”€â”€â”€â”¬â”€â”€â”˜     â”‚
â”‚     â”‚                         â”‚        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚               â”‚                        â”‚
â”‚               â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚      Shared Services            â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚  â€¢ Redis (Caching)              â”‚   â”‚
â”‚  â”‚  â€¢ PostgreSQL (Metadata)        â”‚   â”‚
â”‚  â”‚  â€¢ ChromaDB (Vectors)           â”‚   â”‚
â”‚  â”‚  â€¢ Mem0 Cloud (Memory)          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Legend:**
- ğŸ”¥ = New MCP features
- ğŸ“§ = Email
- ğŸ“… = Calendar
- ğŸ’¡ = Ideas
- ğŸ”§ = MCP Tools

---

This diagram represents the complete AgentAru architecture with full MCP integration!
